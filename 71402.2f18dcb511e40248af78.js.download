"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[71402],{761850:(t,e,o)=>{var s=o(270617).declareClassAsPureInterface;function n(){}TradingView.WEB_SOCKET_WAS_CONNECTED=!1,n.REBIND_STUDY_STANDALONE_TO_CHILD=1,n.REBIND_STUDY_CHILD_TO_STANDALONE=2,n.prototype.defaultWatchlistSymbols=function(){},n.prototype.defaultResolutions=function(){},n.prototype.availableCurrencies=function(){},n.prototype.availableUnits=function(){},n.prototype.supportedSymbolsTypes=function(){},n.prototype.supportedExchangesList=function(){},n.prototype.symbolsGrouping=function(){},n.prototype.quoteCreateSession=function(t){},n.prototype.quoteDeleteSession=function(t){},n.prototype.quoteSetFields=function(t,e){},n.prototype.quoteAddSymbols=function(t,e){},n.prototype.quoteRemoveSymbols=function(t,e){},n.prototype.quoteFastSymbols=function(t,e){},n.prototype.depthCreateSession=function(t,e,o){},n.prototype.depthDeleteSession=function(t){},n.prototype.depthSetSymbol=function(t,e){},n.prototype.depthClearSymbol=function(t){},n.prototype.depthSetScale=function(t,e){},n.prototype.chartCreateSession=function(t,e){},n.prototype.chartDeleteSession=function(t){},n.prototype.createSession=function(t,e){},n.prototype.removeSession=function(t){},n.prototype.connected=function(){},n.prototype.connect=function(){},n.prototype.disconnect=function(){},n.prototype.switchTimezone=function(t,e){},n.prototype.resolveSymbol=function(t,e,o,s){},n.prototype.createSeries=function(t,e,o,s,n,i,r,a){},n.prototype.removeSeries=function(t,e,o){},n.prototype.modifySeries=function(t,e,o,s,n,i,r){},n.prototype.requestMoreData=function(t,e,o,s){},n.prototype.requestMetadata=function(t,e,o){},n.prototype.isCanCreateStudy=function(t,e){},n.prototype.createStudy=function(t,e,o,s,n,i,r){},n.prototype.rebindStudy=function(t,e,o,s,n,i,r,a){},n.prototype.removeStudy=function(t,e,o){},n.prototype.modifyStudy=function(t,e,o,s,n){},n.prototype.createPointset=function(t,e,o,s,n,i,r){},n.prototype.modifyPointset=function(t,e,o,s,n){},n.prototype.removePointset=function(t,e,o){},n.prototype.requestMoreTickmarks=function(t,e,o,s){},n.prototype.requestFirstBarTime=function(t,e,o,s){},n.prototype._invokeHandler=function(t,e){},n.prototype._sendRequest=function(t,e){},n.prototype._onMessage=function(t){},n.prototype._dispatchNotification=function(t){},n.prototype._invokeNotificationHandler=function(t,e,o){},n.prototype._notifySessions=function(t){},n.prototype.unpack=function(t){},n.prototype.searchSymbols=function(t,e,o,s,n,i,r,a,c,p){},n.prototype.serverTimeOffset=function(){},n.prototype.getMarks=function(t,e,o,s,n){},n.prototype.getTimescaleMarks=function(t,e,o,s,n){},s(n,"ChartApiInterface"),t.exports.HandlerInfo=function(t,e){this.handler=t,this.customId=e},t.exports.ChartApiInterface=n},285055:(t,e,o)=>{var s,n;function i(t,e){return"period-back"===t.type&&"period-back"===e.type?t.value===e.value:"time-range"===t.type&&"time-range"===e.type&&(t.from===e.from&&t.to===e.to)}o.d(e,{TIMEFRAMETYPE:()=>n,areEqualTimeFrames:()=>i}),function(t){
t.extractErrorReason=function(t){return t.params[1]}}(s||(s={})),function(t){t.PeriodBack="period-back",t.TimeRange="time-range"}(n||(n={}))},141802:(t,e,o)=>{o.r(e),o.d(e,{QuoteCache:()=>n,QUOTE_FIELDS:()=>i,QUOTE_FIELDS_CACHE:()=>r});var s=o(588537);class n{constructor(t){this._cache=new Map,this._fields=[...t.fields]}update(t,e,o){const n=(0,s.ensureDefined)(t.symbolname);if(this._cache.has(n)||this._cache.set(n,{symbolname:n,status:t.status,values:{}}),"error"===t.status)return;const i=(0,s.ensureDefined)(this._cache.get(n));i.status=t.status;for(const s of this._fields){if(!e.has(s))continue;const n=t.values[s];(o||void 0!==n)&&(i.values[s]=n)}}get(t){var e;return null!==(e=this._cache.get(t))&&void 0!==e?e:null}fields(){return this._fields}}const i=new Set(["pro_name","logoid","currency-logoid","base-currency-logoid","short_name","description","exchange","type","country_code","provider_id","sector","type","industry","currency_id","last_price","fractional","minmov","minmove2","pricescale","change","change_percent","volume","average_volume","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","earnings_release_next_date","earnings_per_share_forecast_next_fq","earnings_release_date","earnings_per_share_fq","fundamental_currency_code","symbol-primaryname","update_mode"]),r=new n({fields:i})},124418:(t,e,o)=>{o.r(e),o.d(e,{getQuoteSessionInstance:()=>r,setQuoteSessionInstance:()=>a,getQuoteSessionNoEnsure:()=>c,destroyQuoteSessions:()=>p});var s=o(167904),n=o.n(s);const i={};function r(t="full"){return i[t]||a(t,new(n())(t)),i[t]}function a(t="full",e){i[t]=e}function c(t="full"){return i[t]}function p(){for(const t in i)if(i.hasOwnProperty(t)){const e=i[t];void 0!==e&&e.destroy(),delete i[t]}}},574764:(t,e,o)=>{o.d(e,{QuoteSession:()=>n});var s=o(95935);class n{constructor(t,e=(0,s.randomHash)()){this._sessionstarted=!1,this._globalHandler=null,this._chartApi=t,this._sessionid="qs_"+e}destroy(){this._sessionstarted&&(this._chartApi.quoteDeleteSession(this._sessionid),this._sessionstarted=!1)}connected(){return this._chartApi.connected()}connect(t){this._globalHandler=t,this._chartApi.createSession(this._sessionid,this),this._chartApi.connect()}disconnect(){this._chartApi.disconnect()}quoteAddSymbols(t){this._chartApi.quoteAddSymbols(this._sessionid,t)}quoteRemoveSymbols(t){this._chartApi.quoteRemoveSymbols(this._sessionid,t)}quoteFastSymbols(t){this._chartApi.quoteFastSymbols(this._sessionid,t)}quoteSetFields(t){this._chartApi.quoteSetFields(this._sessionid,t)}onMessage(t){var e;switch(t.method){case"connected":this._sessionstarted||(this._chartApi.quoteCreateSession(this._sessionid),this._sessionstarted=!0);break;case"disconnected":this._sessionstarted=!1}null===(e=this._globalHandler)||void 0===e||e.call(this,t)}quoteHibernateAll(){this._chartApi.quoteHibernateAll(this._sessionid)}}window.TradingView.QuoteSession=n},167904:(t,e,o)=>{t=o.nmd(t)
;var s=o(97639),n=o(343370).default,i=o(12481).default,r=o(689765).PriceFormatter;const{uniq:a}=o(977809);var c=o(95935),p=o(461909).parseUpdateMode,u=o(198796).deepExtend;const{QUOTE_FIELDS_CACHE:l,QUOTE_FIELDS:_}=o(141802);var d;function h(t,e){this.options=Object.assign({throttleTimeout:125},e),this._connected=!1,this._symbol_data={},this._subscriptions={},this.onConnect=new s,this.onDisconnect=new s,this._quoteApi=new d(window.ChartApiInstance),this._type=t||"full",this._delayUpdateFastSymbols=i(this._updateFastSymbols,250),this._throttledSymbolData={},this._formatterValuesCache={},this._waitingForFormatters={},this._snapshotValuesCache={},this._waitingForSnapshot={},this.connect()}d=o(574764).QuoteSession,h.prototype.destroy=function(){this._quoteApi.destroy(),this._quoteApi=null,this._connected=!1,this.onDisconnect.fire()},h.prototype.typeFields={},h.prototype.typeFields.simple=["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume"],h.prototype.typeFields.simpleDetailed=[].concat(h.prototype.typeFields.simple,["ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"]),h.prototype.typeFields.full=[],h.prototype.typeFields.watchlist=[].concat(h.prototype.typeFields.simple,["rchp","rtc","country_code","provider_id"]),h.prototype.typeFields.portfolio=["pro_name","short_name","exchange","listed_exchange","description","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm"],h.prototype.typeFields.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],h.prototype.connect=function(t){this._quoteApi.connect(this.quoteHandler.bind(this))},h.prototype.quoteHandler=function(t){var e=t.method,o=t.params;switch(e){case"connected":this._connected||(this._connected=!0,this.onConnected());break;case"quote_list_fields":break;case"quote_symbol_data":this._connected&&this.onSymbolData(o[0]);break;case"quote_completed":this._connected&&this.onSymbolData({symbolname:o[0],complete:performance.now(),values:{}});break;case"disconnected":
this._connected&&(this._connected=!1,this.onDisconnect.fire())}},h.prototype.onConnected=function(){this.setFields();var t=Object.keys(this._symbol_data);t.length&&(this._quoteApi.quoteAddSymbols(t),this._delayUpdateFastSymbols()),this.onConnect.fire()},h.prototype.setFields=function(){var t=h.prototype.typeFields[this._type];t&&t.length&&this._quoteApi.quoteSetFields(t)},h.prototype.onSymbolData=function(t){try{t.status&&l.update(t,_,!1)}catch(t){}var e=t.symbolname,o=this._throttledSymbolData[e];o||(o=this._throttledSymbolData[e]={fnDispatch:n(this.dipatchSymbolData.bind(this),this.options.throttleTimeout)}),o.cache?u(o.cache,t):o.cache=t,o.fnDispatch(e)},h.prototype._parseUpdateMode=function(t){var e=p(t.update_mode);null!==e&&(t.update_mode=e.mode,t.update_mode_seconds=e.interval)},h.prototype.dipatchSymbolData=function(t){var e=this._symbol_data[t],o=this._throttledSymbolData[t].cache;if(delete this._throttledSymbolData[t].cache,this._symbol_data[t])for(var s in u(e,o),e.values&&this._parseUpdateMode(e.values),this._subscriptions){var n=this._subscriptions[s];n.has(t)&&n.get(t).forEach((function(t){t(e,o)}))}},h.prototype.subscribe=function(t,e,o){this._subscriptions[t]=this._subscriptions[t]||new Map;var s=this._subscriptions[t];e=[].concat(e);var n=[];e.forEach((function(t){this._symbol_data[t]?s&&s.has(t)||this._symbol_data[t].subscribers_count++:(this._symbol_data[t]={subscribers_count:1},n.push(t)),s.has(t)||s.set(t,[]),s.get(t).push(o),s.get(t).fast=!0,this._symbol_data[t]&&this._symbol_data[t].values&&o(this._symbol_data[t],this._symbol_data[t])}),this),n.length&&this._connected&&(this._quoteApi.quoteAddSymbols(n),this._delayUpdateFastSymbols())},h.prototype.unsubscribe=function(t,e,o){e=[].concat(e);for(var s=this._subscriptions[t],n=[],i=0;i<e.length;i++){var r=e[i];if(s)if(s.has(r)&&o){var a=s.get(r).indexOf(o);~a&&s.get(r).splice(a,1),s.get(r).length||s.delete(r)}else s.delete(r);s&&0===s.size&&delete this._subscriptions[t],this._symbol_data.hasOwnProperty(r)&&(s&&!s.has(r)&&this._symbol_data[r].subscribers_count--,this._symbol_data[r].subscribers_count||(delete this._symbol_data[r],n.push(r)))}n.length&&this._connected&&(this._quoteApi.quoteRemoveSymbols(n),this._delayUpdateFastSymbols())},h.prototype.setFastSymbols=function(t,e){if(this._subscriptions[t])for(var o=this._subscriptions[t],s=Array.from(o.keys()),n=0;n<s.length;++n){var i=s[n];o.get(i).fast=-1!==e.indexOf(i)}this._delayUpdateFastSymbols()},h.prototype._updateFastSymbols=function(){if(this._connected){var t=this._fastSymbols();0===t.length?this._quoteApi.quoteHibernateAll():this._quoteApi.quoteFastSymbols(t)}},h.prototype._delayUpdateFastSymbols=h.prototype._updateFastSymbols,h.prototype._fastSymbols=function(){var t=[];for(var e in this._subscriptions)for(var o=this._subscriptions[e],s=Array.from(o.keys()),n=0;n<s.length;++n){var i=s[n];o.get(i).fast&&t.push(i)}return t=a(t)},h.prototype.formatter=function(t,e){var o=this;if(this._waitingForFormatters[t])return this._waitingForFormatters[t];function s(t){
var o=e&&!t.fractional?1:t.minmov;return new r(t.pricescale,o,t.fractional,t.minmove2)}var n=new Promise((function(e,n){if(o._formatterValuesCache[t])e(s(o._formatterValuesCache[t]));else{var i=c.guid();o.subscribe(i,[t],(function(r){"error"===r.status&&(o._waitingForFormatters[t]=null,n("Quotes snapshot is not received")),function(t){return t&&null!=t.pricescale&&null!=t.minmov}(r.values)&&(o._waitingForFormatters[t]=null,o._formatterValuesCache[t]=r.values,e(s(r.values)),o.unsubscribe(i,t))}))}}));return this._waitingForFormatters[t]=n,n},h.prototype.snapshot=function(t){var e=this;if(this._waitingForSnapshot[t])return this._waitingForSnapshot[t];var o=new Promise((function(o,s){if(e._snapshotValuesCache[t])o(e._snapshotValuesCache[t]);else{var n=c.guid();e.subscribe(n,[t],(function(i){"error"===i.status&&(e._waitingForSnapshot[t]=null,s("Quotes snapshot is not received"));var r=i.values;r&&r.minmov&&r.pricescale&&r.description&&(e._waitingForSnapshot[t]=null,e._snapshotValuesCache[t]=r,o(r),e.unsubscribe(n,t))}))}}));return this._waitingForSnapshot[t]=o,o},TradingView.QuoteSessionMultiplexer=h,t&&t.exports&&(t.exports=h)},198796:(t,e,o)=>{function s(t,...e){return t&&"object"==typeof t?(0===e.length||e.forEach(e=>{null!=e&&"object"==typeof e&&Object.keys(e).forEach(o=>{const i=t[o],r=e[o];if(r===t)return;const a=Array.isArray(r);if(r&&(n(r)||a)){let e;e=a?i&&Array.isArray(i)?i:[]:i&&n(i)?i:{},t[o]=s(e,r)}else void 0!==r&&(t[o]=r)})}),t):t}function n(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);if(!e)return!0;const o=Object.hasOwnProperty.toString,s=e.hasOwnProperty("constructor")&&e.constructor;return"function"==typeof s&&o.call(s)===o.call(Object)}o.d(e,{deepExtend:()=>s})},99177:(t,e,o)=>{function s(t){if(void 0===t)return"";if(t instanceof Error){let e=t.message;return t.stack&&(e+=" "+t.stack),e}return"string"==typeof t?t.toString():JSON.stringify(t)}o.d(e,{errorToString:()=>s})},461909:(t,e,o)=>{function s(t){if(void 0===t)return null;const e=t.match(/(delayed_streaming)_([\d]{1,4})/);return null===e?null:{mode:e[1],interval:parseInt(e[2])}}o.d(e,{parseUpdateMode:()=>s})}}]);